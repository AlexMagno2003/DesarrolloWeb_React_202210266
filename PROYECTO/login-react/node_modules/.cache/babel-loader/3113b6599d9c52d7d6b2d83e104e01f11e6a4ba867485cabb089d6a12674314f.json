{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Alex/Desktop/PRACTICA/login-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Alex/Desktop/PRACTICA/login-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Alex/Desktop/PRACTICA/login-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Navigate,useNavigate,Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(_ref){var registroAcademico=_ref.registroAcademico,iniciar=_ref.iniciar;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),errorResponse=_useState2[0],setErrorResponse=_useState2[1];var handleSubmit=function handleSubmit(event){event.preventDefault();var registroAcademicoInput=event.currentTarget.registroInput.value;var contra=event.currentTarget.passwdInput.value;iniciarSesion('http://localhost:4000/login',{usuario:registroAcademicoInput,contra:contra}).then(function(value){if(value.error!=undefined){setErrorResponse(value.error);}if(value.username!=''&&value.username!=undefined){registroAcademico(value.username);iniciar(true);}});};function iniciarSesion(){return _iniciarSesion.apply(this,arguments);}function _iniciarSesion(){_iniciarSesion=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,data,response,_args=arguments;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:url=_args.length>0&&_args[0]!==undefined?_args[0]:'';data=_args.length>1&&_args[1]!==undefined?_args[1]:{};_context.next=4;return fetch(url,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});case 4:response=_context.sent;return _context.abrupt(\"return\",response.json());case 6:case\"end\":return _context.stop();}},_callee);}));return _iniciarSesion.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,class:\"form\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),!!errorResponse&&/*#__PURE__*/_jsx(\"div\",{className:\"errorMessage\",children:errorResponse}),/*#__PURE__*/_jsx(\"label\",{children:\"Registro Academico\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"registroInput\",placeholder:\"Ingrese su Registro Academico\",required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"passwdInput\",placeholder:\"Ingrese Contrase\\xF1a\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Ingresar\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/registro\",children:\"No Tienes una cuenta? Registrate\"})]});}export default Login;","map":{"version":3,"names":["React","useState","Navigate","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","Login","_ref","registroAcademico","iniciar","_useState","_useState2","_slicedToArray","errorResponse","setErrorResponse","handleSubmit","event","preventDefault","registroAcademicoInput","currentTarget","registroInput","value","contra","passwdInput","iniciarSesion","usuario","then","error","undefined","username","_iniciarSesion","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","data","response","_args","wrap","_callee$","_context","prev","next","length","fetch","method","headers","body","JSON","stringify","sent","abrupt","json","stop","children","onSubmit","class","className","type","id","placeholder","required","to"],"sources":["C:/Users/Alex/Desktop/PRACTICA/login-react/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Navigate, useNavigate, Link } from \"react-router-dom\";\r\nfunction Login({ registroAcademico, iniciar }) {\r\n    \r\n    const [errorResponse, setErrorResponse] = useState(\"\");\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        const registroAcademicoInput = event.currentTarget.registroInput.value;\r\n        const contra = event.currentTarget.passwdInput.value;\r\n        iniciarSesion('http://localhost:4000/login', { usuario: registroAcademicoInput, contra: contra }).then((value) => {    \r\n            \r\n            if (value.error != undefined) {\r\n                setErrorResponse(value.error);\r\n            }\r\n            if (value.username != '' && value.username != undefined) {\r\n                    registroAcademico(value.username)    \r\n                    iniciar(true)\r\n                }\r\n              \r\n        })\r\n    }\r\n    async function iniciarSesion(url = '', data = {}) {\r\n        const response = await fetch(url, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        });\r\n        return response.json();\r\n    }\r\n    return (\r\n        <div>\r\n            <form onSubmit={handleSubmit} class=\"form\">\r\n                <h1>Login</h1>\r\n                    {!!errorResponse && <div className=\"errorMessage\">{errorResponse}</div>}\r\n                    <label>Registro Academico</label>\r\n                    <input type=\"number\" id=\"registroInput\" placeholder=\"Ingrese su Registro Academico\" required/>\r\n                    <label>Contraseña</label>\r\n                    <input type=\"password\" id=\"passwdInput\" placeholder=\"Ingrese Contraseña\" required/>\r\n                    <button type=\"submit\">Ingresar</button>\r\n                </form>\r\n                <Link to=\"/registro\" >No Tienes una cuenta? Registrate</Link>\r\n        </div>\r\n    )\r\n}\r\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}