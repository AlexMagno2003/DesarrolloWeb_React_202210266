[{"C:\\Users\\Alex\\Desktop\\PRACTICA\\login-react\\src\\index.js":"1","C:\\Users\\Alex\\Desktop\\PRACTICA\\login-react\\src\\reportWebVitals.js":"2","C:\\Users\\Alex\\Desktop\\PRACTICA\\login-react\\src\\App.js":"3","C:\\Users\\Alex\\Desktop\\PRACTICA\\login-react\\src\\components\\Login.js":"4","C:\\Users\\Alex\\Desktop\\PRACTICA\\login-react\\src\\components\\Home.js":"5","C:\\Users\\Alex\\Desktop\\PRACTICA\\login-react\\src\\components\\Registro.js":"6","C:\\Users\\Alex\\Desktop\\PRACTICA\\login-react\\src\\components\\CrearPublicacionModal.js":"7"},{"size":535,"mtime":1694099903315,"results":"8","hashOfConfig":"9"},{"size":362,"mtime":1694099903492,"results":"10","hashOfConfig":"9"},{"size":1556,"mtime":1695259525776,"results":"11","hashOfConfig":"9"},{"size":2258,"mtime":1695259559409,"results":"12","hashOfConfig":"9"},{"size":6656,"mtime":1695272482461,"results":"13","hashOfConfig":"9"},{"size":2468,"mtime":1695241149982,"results":"14","hashOfConfig":"9"},{"size":3030,"mtime":1695264605564,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","suppressedMessages":"18","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"19"},"112l7et",{"filePath":"20","messages":"21","suppressedMessages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"19"},{"filePath":"23","messages":"24","suppressedMessages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"19"},{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"19"},{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"19"},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"19"},"C:\\Users\\Alex\\Desktop\\PRACTICA\\login-react\\src\\index.js",[],[],[],"C:\\Users\\Alex\\Desktop\\PRACTICA\\login-react\\src\\reportWebVitals.js",[],[],"C:\\Users\\Alex\\Desktop\\PRACTICA\\login-react\\src\\App.js",["42","43","44"],[],"import logo from './logo.svg';\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Route, Routers, Navigate,Routes, } from 'react-router-dom';\nimport Login from './components/Login'\nimport Home from './components/Home'\nimport Registro from './components/Registro'\nimport './App.css';\n\nfunction App() {\n  const [usuario, setUsuario] = useState('');\n  const [registroAcademico, setRegistroAcademico] = useState('');\n  const [inicioSesion, setInicioSesion] = useState(false);\n\n  const updateUsuario = (nombre) => {\n    setUsuario(nombre)\n  }\n  const updateinicioSesion = (estado) => {\n    setInicioSesion(estado)\n  }\n\n  useEffect(() => {\n    // Recuperar el token de sesión almacenado en el almacenamiento local\n    const sessionToken = localStorage.getItem('sessionToken');\n    const registroToken = localStorage.getItem('registroToken');\n    const nombreToken = localStorage.getItem('nombreToken');\n    if (sessionToken) {\n      setInicioSesion(true);\n      setRegistroAcademico(registroToken);\n      setUsuario(nombreToken);\n    }\n  }, []);\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path='/' element={inicioSesion ? <Home usuario={usuario} registroAcademico={ registroAcademico } /> : <Login registroAcademico={ setRegistroAcademico} nombre={ updateUsuario} iniciar={updateinicioSesion} />}>\n        </Route>\n        <Route path='/login' element={<Login/>}>\n        </Route>\n        <Route path='/registro' element={<Registro/>}>\n        </Route>\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","C:\\Users\\Alex\\Desktop\\PRACTICA\\login-react\\src\\components\\Login.js",["45","46","47","48","49"],[],"import React, { useState } from 'react';\r\nimport { Navigate, useNavigate, Link } from \"react-router-dom\";\r\nfunction Login({ registroAcademico, nombre, iniciar }) {\r\n    \r\n    const [errorResponse, setErrorResponse] = useState(\"\");\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        const registroAcademicoInput = event.currentTarget.registroInput.value;\r\n        const contra = event.currentTarget.passwdInput.value;\r\n        iniciarSesion('http://localhost:4000/login', { usuario: registroAcademicoInput, contra: contra }).then((value) => {    \r\n            \r\n            if (value.error != undefined) {\r\n                setErrorResponse(value.error);\r\n            }\r\n            if (value.username != '' && value.username != undefined) {\r\n                    registroAcademico(registroAcademicoInput) \r\n                    nombre(value.username)   \r\n                    iniciar(true)\r\n                    localStorage.setItem('sessionToken', true);\r\n                    localStorage.setItem('registroToken', registroAcademicoInput);\r\n                    localStorage.setItem('nombreToken', value.username);\r\n                }\r\n              \r\n        })\r\n    }\r\n    async function iniciarSesion(url = '', data = {}) {\r\n        const response = await fetch(url, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        });\r\n        return response.json();\r\n    }\r\n    return (\r\n        <div>\r\n            <form onSubmit={handleSubmit} class=\"form\">\r\n                <h1>Login</h1>\r\n                    {!!errorResponse && <div className=\"errorMessage\">{errorResponse}</div>}\r\n                    <label>Registro Academico</label>\r\n                    <input type=\"number\" id=\"registroInput\" placeholder=\"Ingrese su Registro Academico\" required/>\r\n                    <label>Contraseña</label>\r\n                    <input type=\"password\" id=\"passwdInput\" placeholder=\"Ingrese Contraseña\" required/>\r\n                    <button type=\"submit\">Ingresar</button>\r\n                </form>\r\n                <Link to=\"/registro\" >No Tienes una cuenta? Registrate</Link>\r\n        </div>\r\n    )\r\n}\r\nexport default Login","C:\\Users\\Alex\\Desktop\\PRACTICA\\login-react\\src\\components\\Home.js",["50","51"],[],"C:\\Users\\Alex\\Desktop\\PRACTICA\\login-react\\src\\components\\Registro.js",["52","53"],[],"import React, { useState } from 'react';\r\nimport { Navigate, useNavigate } from \"react-router-dom\";\r\n\r\nfunction Registro({ registrarUsuario }) {\r\n  const [registroAcademico, setRegistroAcademico] = useState('');\r\n  const [nombres, setNombres] = useState('');\r\n  const [apellidos, setApellidos] = useState('');\r\n  const [contrasena, setContrasena] = useState('');\r\n  const [correo, setCorreo] = useState('');\r\n  const [errorResponse, setErrorResponse] = useState(\"\");\r\n  \r\n  const goTo = useNavigate();\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    \r\n    const nuevoUsuario = {\r\n      registro_academico: registroAcademico,\r\n      email: correo,\r\n      nombre: nombres,\r\n      apellidos: apellidos,\r\n      contrasena: contrasena\r\n    };\r\n\r\n    const response = await registrarUsuario('http://localhost:4000/registro', nuevoUsuario);\r\n    if (response.error) {\r\n          setErrorResponse(response.error);\r\n        } else {\r\n          console.log('Usuario registrado con éxito');\r\n        goTo(\"/\");\r\n        }\r\n    };\r\n    \r\n async function registrarUsuario(url = '', data = {}) {\r\n        const response = await fetch(url, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        });\r\n        return response.json();\r\n    }\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit} class=\"form\">\r\n      <h2>Registrar un Usuario</h2>\r\n        {!!errorResponse && <div className=\"errorMessage\">{errorResponse}</div>}\r\n        <label>Registro Academico</label>\r\n        <input type=\"number\" value={registroAcademico} onChange={(e) => setRegistroAcademico(e.target.value)} required />\r\n              \r\n        <label>Nombres</label>\r\n        <input type=\"text\" value={nombres} onChange={(e) => setNombres(e.target.value)} required />\r\n        \r\n        <label>Apellidos</label>\r\n        <input type=\"text\" value={apellidos} onChange={(e) => setApellidos(e.target.value)} required />\r\n        \r\n        <label>Contraseña</label>\r\n        <input type=\"password\" value={contrasena} onChange={(e) => setContrasena(e.target.value)} required />\r\n        \r\n        <label>Correo electrónico</label>\r\n        <input type=\"email\" value={correo} onChange={(e) => setCorreo(e.target.value)} required />\r\n        \r\n        <button type=\"submit\">Registrar</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Registro;\r\n","C:\\Users\\Alex\\Desktop\\PRACTICA\\login-react\\src\\components\\CrearPublicacionModal.js",["54"],[],"import React, { useState } from 'react';\r\nimport Modal from 'react-modal';\r\n\r\nconst CrearPublicacionModal = ({ isOpen, onRequestClose, cursos, catedraticos, registroAcademico }) => {\r\n  const [cursoSeleccionado, setCursoSeleccionado] = useState('');\r\n  const [catedraticoSeleccionado, setCatedraticoSeleccionado] = useState('');\r\n  const [mensaje, setMensaje] = useState('');\r\n    const [errorResponse, setErrorResponse] = useState(\"\");\r\n\r\n  const handleCrearPublicacion = async () => {\r\n    \r\n    const nuevaPublicacion = {\r\n      registro_usuario: registroAcademico,\r\n      id_curso: cursoSeleccionado,\r\n      id_catedratico: catedraticoSeleccionado,\r\n      mensaje_publicacion: mensaje\r\n    };\r\n\r\n    const response = await registrarPublicacion('http://localhost:4000/registroPublicacion', nuevaPublicacion);\r\n    if (response.error) {\r\n          setErrorResponse(response.error);\r\n        } else {\r\n          console.log('PUblicacion registrada con éxito');\r\n            window.location.reload();\r\n        }\r\n    };\r\n    \r\n async function registrarPublicacion(url = '', data = {}) {\r\n        const response = await fetch(url, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        });\r\n        return response.json();\r\n    }\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      onRequestClose={onRequestClose}\r\n      contentLabel=\"Crear Publicación\"\r\n    >\r\n      <h2>Crear Publicación</h2>\r\n      <form class=\"form\">\r\n        <div>\r\n          <label>Curso:</label>\r\n          <select\r\n            value={cursoSeleccionado}\r\n            onChange={(e) => setCursoSeleccionado(e.target.value)}\r\n            required\r\n          >\r\n            <option value=\"\">Selecciona un curso</option>\r\n            {cursos.map((curso) => (\r\n              <option key={curso.id_curso} value={curso.id_curso}>\r\n                {curso.nombre}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label>Catedrático:</label>\r\n          <select\r\n            value={catedraticoSeleccionado}\r\n            onChange={(e) => setCatedraticoSeleccionado(e.target.value)}\r\n            required\r\n          >\r\n            <option value=\"\">Selecciona un catedrático</option>\r\n            {catedraticos.map((catedratico) => (\r\n              <option key={catedratico.id_catedratico} value={catedratico.id_catedratico}>\r\n                {catedratico.nombre}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label>Mensaje:</label>\r\n          <textarea\r\n            value={mensaje}\r\n            onChange={(e) => setMensaje(e.target.value)}\r\n            rows=\"4\"\r\n            cols=\"50\"\r\n            placeholder=\"Escribe tu mensaje aquí...\"\r\n          />\r\n        </div>\r\n        <button onClick={handleCrearPublicacion}>Crear Publicación</button>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default CrearPublicacionModal;\r\n",{"ruleId":"55","severity":1,"message":"56","line":1,"column":8,"nodeType":"57","messageId":"58","endLine":1,"endColumn":12},{"ruleId":"55","severity":1,"message":"59","line":3,"column":32,"nodeType":"57","messageId":"58","endLine":3,"endColumn":39},{"ruleId":"55","severity":1,"message":"60","line":3,"column":41,"nodeType":"57","messageId":"58","endLine":3,"endColumn":49},{"ruleId":"55","severity":1,"message":"60","line":2,"column":10,"nodeType":"57","messageId":"58","endLine":2,"endColumn":18},{"ruleId":"55","severity":1,"message":"61","line":2,"column":20,"nodeType":"57","messageId":"58","endLine":2,"endColumn":31},{"ruleId":"62","severity":1,"message":"63","line":12,"column":29,"nodeType":"64","messageId":"65","endLine":12,"endColumn":31},{"ruleId":"62","severity":1,"message":"63","line":15,"column":32,"nodeType":"64","messageId":"65","endLine":15,"endColumn":34},{"ruleId":"62","severity":1,"message":"63","line":15,"column":56,"nodeType":"64","messageId":"65","endLine":15,"endColumn":58},{"ruleId":"55","severity":1,"message":"66","line":14,"column":10,"nodeType":"57","messageId":"58","endLine":14,"endColumn":23},{"ruleId":"67","severity":1,"message":"68","line":24,"column":6,"nodeType":"69","endLine":24,"endColumn":50,"suggestions":"70"},{"ruleId":"55","severity":1,"message":"60","line":2,"column":10,"nodeType":"57","messageId":"58","endLine":2,"endColumn":18},{"ruleId":"71","severity":1,"message":"72","line":34,"column":17,"nodeType":"57","messageId":"73","endLine":34,"endColumn":33},{"ruleId":"55","severity":1,"message":"66","line":8,"column":12,"nodeType":"57","messageId":"58","endLine":8,"endColumn":25},"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'Routers' is defined but never used.","'Navigate' is defined but never used.","'useNavigate' is defined but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","'errorResponse' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchPublicaciones'. Either include it or remove the dependency array.","ArrayExpression",["74"],"no-redeclare","'registrarUsuario' is already defined.","redeclared",{"desc":"75","fix":"76"},"Update the dependencies array to be: [cursoSeleccionado, catedraticoSeleccionado, fetchPublicaciones]",{"range":"77","text":"78"},[963,1007],"[cursoSeleccionado, catedraticoSeleccionado, fetchPublicaciones]"]